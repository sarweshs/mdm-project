# MDM Review Dashboard

A web-based dashboard for human agents to review and manage merge candidates generated by the MDM Bot Core Service.

## Features
- View pending merge candidates with detailed entity information
- Approve or reject merge suggestions with optional comments
- See bot's proposed merged entity and reasoning

## Prerequisites
- Java 17+
- Maven 3.8+
- The following services must be running:
  - **MDM Global Rules Service** (port 8080)
  - **MDM Bot Core Service** (port 8081)
  - **PostgreSQL** (as configured in the parent project)

## Setup & Run

1. **Build all modules from the project root:**
   ```sh
   mvn clean install
   ```
2. **Start the required backend services in separate terminals:**
   ```sh
   cd ../mdm-global-rules && mvn spring-boot:run
   cd ../mdm-bot-core && mvn spring-boot:run
   ```
3. **Start the review dashboard:**
   ```sh
   mvn spring-boot:run
   ```
   The dashboard will be available at [http://localhost:8082/dashboard](http://localhost:8082/dashboard)

## Configuration
- The dashboard connects to the bot core service using the property in `src/main/resources/application.properties`:
  ```properties
  mdm.bot.core.base-url=http://localhost:8081
  ```
- Change this if your bot core service runs elsewhere.

## Usage
- Open [http://localhost:8082/dashboard](http://localhost:8082/dashboard) in your browser.
- Review the list of pending merge candidates.
- Approve or reject each candidate, optionally adding a comment.

## Troubleshooting
- **500 Internal Server Error:**
  - Ensure both the bot core and global rules services are running.
  - Ensure the database is up and seeded with test data.
  - Check that the endpoint URLs in `application.properties` are correct.
- **No candidates shown:**
  - Make sure you have run the merge endpoint in the bot core service to generate candidates.
- **Template errors:**
  - Ensure you have the latest code and have rebuilt the project after any changes to domain models or templates.

## Development Notes
- Domain models (`MDMEntity`, `MergeCandidatePair`) are duplicated in this module for decoupling from bot core dependencies.
- Uses Thymeleaf for server-side rendering.
- Uses Spring WebFlux WebClient to communicate with the bot core service.

---

For more details, see the main project README. 